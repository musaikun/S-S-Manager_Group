v.1.0.0の時点　リファクタリング前　11/5

📊 プロジェクト調査完了
完全な調査レポートを作成しました！主要な発見をまとめます。

📈 プロジェクト統計
総コード量: 5,015行
├─ Java:        235行  (4.7%)
├─ HTML:        520行  (10.4%)
├─ CSS:       2,363行  (47.1%) ← 最大
└─ JavaScript: 1,897行  (37.8%)

最大ファイル: timeregister.css (1,399行)
最大JS: timeregister.js (1,034行)
🔴 主要な問題点（11個）
優先度：高（即対応推奨）
1. URLパラメータ依存の状態管理

現状: 5種類のパラメータを URL で管理
問題: URL が長くなる、デバッグ困難、ブラウザ履歴が不正確
提案: sessionStorage に統一
2. スライド化への障壁

現状: 画面遷移が完全なページリロード
問題: DOM が毎回リセットされる、状態が失われる
提案: SPA化（Vue.js導入）が必須
3. JavaScript コードの重複

重複: calendar.js と timeregister.js に同じダイアログコード（48行）
提案: common/dialogs.js を作成
優先度：中（段階的対応）
4. timeregister.js が巨大（1,034行）

提案: 5つのファイルに分割
timeregister-core.js (200行)
timeregister-picker.js (350行)
timeregister-calculator.js (250行)
timeregister-bulk.js (150行)
timeregister-submit.js (100行)
5. CSS が保守困難（1,399行）

提案: SCSS/Sass 化 + BEM 命名規則
6. グローバル変数が多い（19個）

提案: Module パターンで管理
✅ リファクタリング実行計画
Phase 1: 即座に実行可能（動作を保ったまま）
Week 1-2:
□ ダイアログコードを common/dialogs.js に統合
□ timeregister.js を5ファイルに分割
□ sessionStorage による状態管理に統一
□ IndexController を整理（削除 or 有効化）
Phase 2: 短期改善
Week 3-4:
□ CSS を SCSS に移行
□ バリデーション機能追加
□ API エンドポイント設計・実装
□ エラーハンドリング追加
Phase 3: スライド機能準備
Week 5-8:
□ Vue.js プロジェクトセットアップ
□ Pinia 状態管理導入
□ 既存 JavaScript ロジックを Vue コンポーネント化
□ API 統合
Phase 4: スライド機能実装
Week 9+:
□ スライドトランジションアニメーション
□ ページ遷移をスライド化
□ E2E テスト
□ パフォーマンス最適化
📁 推奨ファイル構成
詳細な構成は調査レポートに記載されていますが、主な変更点：

static/js/
├── common/          (新規)
│   ├── dialogs.js
│   ├── storage.js
│   └── utils.js
├── calendar/
│   ├── calendar.js
│   ├── calendar-api.js
│   └── calendar-ui.js
└── timeregister/
    ├── timeregister-core.js
    ├── timeregister-picker.js
    ├── timeregister-calculator.js
    ├── timeregister-bulk.js
    └── timeregister-submit.js